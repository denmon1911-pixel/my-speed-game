<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Speed Optimizer 2025</title>
    <script src="telegram.org"></script>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #1a1a1a; color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        #gameFrame { border: none; width: 100vw; height: calc(100vh - 70px); background: #000; }
        .controls { 
            height: 70px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            background: #2c2c2e; 
            border-top: 1px solid #3a3a3c;
            padding: 5px 15px;
        }
        .row { display: flex; align-items: center; width: 100%; justify-content: space-between; margin: 2px 0; }
        input[type="range"] { flex: 1; margin: 0 15px; accent-color: #007aff; }
        .speed-val { font-weight: bold; min-width: 45px; text-align: right; color: #007aff; }
        label { display: flex; align-items: center; font-size: 14px; user-select: none; }
        input[type="checkbox"] { width: 18px; height: 18px; margin-right: 8px; }
    </style>
</head>
<body>

    <!-- ОКНО ИГРЫ -->
    <iframe id="gameFrame" src="https://app4.empiresbattle.com/start#tgWebAppData=user%3D%257B%2522id%2522%253A1777339623%252C%2522first_name%2522%253A%2522Dmytro%2522%252C%2522last_name%2522%253A%2522%2522%252C%2522username%2522%253A%2522denmon1911%2522%252C%2522language_code%2522%253A%2522ru%2522%252C%2522allows_write_to_pm%2522%253Atrue%252C%2522photo_url%2522%253A%2522https%253A%255C%252F%255C%252Ft.me%255C%252Fi%255C%252Fuserpic%255C%252F320%255C%252FHniHfCMF1cburLEzwYVCQuymHlIC69_tser6_2X6rt0.svg%2522%257D%26chat_instance%3D-420625913097209181%26chat_type%3Dsender%26auth_date%3D1763675684%26signature%3DMhnzng1TRQoprSWvLZzyK3MmajLrZutfqJysvf2KF2o9Usue0WSqlLLfgE-hAmeN_4YvHwUWdgpLUGEU9FW4DQ%26hash%3D8fb519c15ccd09f42fba8fdfea922ace469a848b859acf9570a632e20df006e6&amp;tgWebAppVersion=9.1&amp;tgWebAppPlatform=weba&amp;tgWebAppThemeParams=%7B%22bg_color%22%3A%22%23ffffff%22%2C%22text_color%22%3A%22%23000000%22%2C%22hint_color%22%3A%22%23707579%22%2C%22link_color%22%3A%22%233390ec%22%2C%22button_color%22%3A%22%233390ec%22%2C%22button_text_color%22%3A%22%23ffffff%22%2C%22secondary_bg_color%22%3A%22%23f4f4f5%22%2C%22header_bg_color%22%3A%22%23ffffff%22%2C%22accent_text_color%22%3A%22%233390ec%22%2C%22section_bg_color%22%3A%22%23ffffff%22%2C%22section_header_text_color%22%3A%22%23707579%22%2C%22subtitle_text_color%22%3A%22%23707579%22%2C%22destructive_text_color%22%3A%22%23e53935%22%7D"></iframe>

    <!-- ПАНЕЛЬ УПРАВЛЕНИЯ -->
    <div class="controls">
        <div class="row">
            <label>
                <input type="checkbox" id="enableSpeed" checked> Активен
            </label>
            <div class="speed-val" id="speedVal">1.0x</div>
        </div>
        <div class="row">
            <span>0.1x</span>
            <input type="range" id="speedRange" min="1" max="100" value="10">
            <span>10x</span>
        </div>
    </div>

    <script>
        console.log("=== ИНСТРУКЦИЯ ДЛЯ УСКОРЕНИЯ ===");
console.log("1. Скопируй код ниже");
console.log("2. Вставь его в эту консоль и нажми Enter");

console.log(`
(function() {
    // ВЫБЕРИ КОНТЕКСТ: пробуем примениться и к главному окну, и к игре
    const targets = [window, document.getElementById('gameFrame')?.contentWindow].filter(t => t);
    
    targets.forEach(win => {
        try {
            const multiplier = 2.5; // ТВОЯ СКОРОСТЬ (можешь менять)
            
            const originals = {
                setTimeout: win.setTimeout,
                setInterval: win.setInterval,
                now: win.Date.now,
                perf: win.performance?.now?.bind(win.performance)
            };

            win.setTimeout = (fn, d, ...args) => originals.setTimeout(fn, d / multiplier, ...args);
            win.setInterval = (fn, d, ...args) => originals.setInterval(fn, d / multiplier, ...args);
            
            const start = originals.now();
            win.Date.now = () => start + (originals.now() - start) * multiplier;
            
            if (originals.perf) {
                const pStart = originals.perf();
                win.performance.now = () => pStart + (originals.perf() - pStart) * multiplier;
            }

            console.log("✅ Ускорение " + multiplier + "x активировано во фрейме!");
        } catch (e) {
            console.log("❌ Ошибка доступа к фрейму: " + e.message);
        }
    });
})();
`);
    </script>
</body>
</html>