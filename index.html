<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Speed Optimizer 2025</title>
    <script src="telegram.org"></script>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #1a1a1a; color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        #gameFrame { border: none; width: 100vw; height: calc(100vh - 70px); background: #000; }
        .controls { 
            height: 70px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            background: #2c2c2e; 
            border-top: 1px solid #3a3a3c;
            padding: 5px 15px;
        }
        .row { display: flex; align-items: center; width: 100%; justify-content: space-between; margin: 2px 0; }
        input[type="range"] { flex: 1; margin: 0 15px; accent-color: #007aff; }
        .speed-val { font-weight: bold; min-width: 45px; text-align: right; color: #007aff; }
        label { display: flex; align-items: center; font-size: 14px; user-select: none; }
        input[type="checkbox"] { width: 18px; height: 18px; margin-right: 8px; }
    </style>
</head>
<body>

    <!-- ОКНО ИГРЫ -->
    <iframe id="gameFrame" src="https://t.me/EmpiresBattleBot/start"></iframe>

    <!-- ПАНЕЛЬ УПРАВЛЕНИЯ -->
    <div class="controls">
        <div class="row">
            <label>
                <input type="checkbox" id="enableSpeed" checked> Активен
            </label>
            <div class="speed-val" id="speedVal">1.0x</div>
        </div>
        <div class="row">
            <span>0.1x</span>
            <input type="range" id="speedRange" min="1" max="100" value="10">
            <span>10x</span>
        </div>
    </div>

    <script>
        console.log("=== ИНСТРУКЦИЯ ДЛЯ УСКОРЕНИЯ ===");
console.log("1. Скопируй код ниже");
console.log("2. Вставь его в эту консоль и нажми Enter");

console.log(`
(function() {
    // ВЫБЕРИ КОНТЕКСТ: пробуем примениться и к главному окну, и к игре
    const targets = [window, document.getElementById('gameFrame')?.contentWindow].filter(t => t);
    
    targets.forEach(win => {
        try {
            const multiplier = 2.5; // ТВОЯ СКОРОСТЬ (можешь менять)
            
            const originals = {
                setTimeout: win.setTimeout,
                setInterval: win.setInterval,
                now: win.Date.now,
                perf: win.performance?.now?.bind(win.performance)
            };

            win.setTimeout = (fn, d, ...args) => originals.setTimeout(fn, d / multiplier, ...args);
            win.setInterval = (fn, d, ...args) => originals.setInterval(fn, d / multiplier, ...args);
            
            const start = originals.now();
            win.Date.now = () => start + (originals.now() - start) * multiplier;
            
            if (originals.perf) {
                const pStart = originals.perf();
                win.performance.now = () => pStart + (originals.perf() - pStart) * multiplier;
            }

            console.log("✅ Ускорение " + multiplier + "x активировано во фрейме!");
        } catch (e) {
            console.log("❌ Ошибка доступа к фрейму: " + e.message);
        }
    });
})();
`);
    </script>
</body>
</html>